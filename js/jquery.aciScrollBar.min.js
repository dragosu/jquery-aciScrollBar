
/*
 * aciScrollBar jQuery Plugin v2.2
 * http://acoderinsights.ro
 *
 * Copyright (c) 2012 Dragos Ursu
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Require jQuery Library http://jquery.com
 * + (optional) MouseWheel Plugin (for mouse wheel support) https://github.com/brandonaaron/jquery-mousewheel
 * + (optional) TouchSwipe Plugin (for touch based devices) https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 *
 * Date: Fri Mar 29 19:20 2012 +0200
 */

(function(a){a.aciScrollBar={nameSpace:".aciScrollBar",index:0};a.fn.aciScrollBar=function(b,c){if(typeof b=="string"){return a(this)._aciScrollBar(b,c)}return this.each(function(){return a(this)._aciScrollBar(b,c)})};a.fn.aciScrollBar.defaults={delta:40,lineDelay:400,lineTimer:40,pageDelay:400,pageTimer:200,bindMouse:true,bindTouch:false,bindKeyboard:true,resizable:false,position:"bottom-right",verticalBar:"up-bar-down",horizontalBar:"left-bar-right",smoothScroll:false,skin:"desk"};a.fn._aciScrollBar=function(k,b){var f=this;var j=a.extend({},a.fn.aciScrollBar.defaults,k);var d=function(l,n){var m=a(".aciSb_dummy");if(m.length==0){m=a(document.createElement("div"));m.addClass("aciSb_dummy").css({width:0,height:0,position:"relative",overflow:"hidden"});a(document.body).append(m);m.append("<div></div>")}var o=m.find("div:first").attr({style:"","class":l+" "+n});return{width:o.width(),height:o.height()}};var h=function(){if((typeof k=="undefined")||(typeof k=="object")){f.data("options"+a.aciScrollBar.nameSpace,j);e()}if(typeof k=="string"){if(f.data("customUi"+a.aciScrollBar.nameSpace)){switch(k){case"skinned":return true;case"container":return f.find(".aciSb_cnt:first");case"vertical":return f.find(".aciSb_bar_v:last");case"horizontal":return f.find(".aciSb_bar_h:last");case"resizer":return f.find(".aciSb_resize:last");case"skin":if(typeof b=="string"){var l=f.data("options"+a.aciScrollBar.nameSpace);if(l.skin!=b){i(l.skin,b);l.skin=b;f.data("options"+a.aciScrollBar.nameSpace,l);f.trigger("update",true)}break}else{var l=f.data("options"+a.aciScrollBar.nameSpace);return l.skin}case"options":return f.data("options"+a.aciScrollBar.nameSpace);case"destroy":c()}}else{switch(k){case"skinned":return false;case"vertical":return a([]);case"horizontal":return a([]);case"resizer":return a([]);case"skin":if(typeof b=="string"){break}else{var l=f.data("options"+a.aciScrollBar.nameSpace);return l?l.skin:null}case"options":var l=f.data("options"+a.aciScrollBar.nameSpace);return l?l:j}}}return f};var g=function(n,l,m){n.each(function(){a(this).attr("class",a(this).attr("class").replace(l,m))})};var i=function(l,m){f.find(".aciSb_bar_v:last *").attr("style","");f.find(".aciSb_bar_h:last *").attr("style","");f.find(".aciSb_resize:last *").attr("style","");g(f,l,m);g(f.find(".aciSb_bar_v:last, .aciSb_bar_v:last *"),l,m);g(f.find(".aciSb_bar_h:last, .aciSb_bar_h:last *"),l,m);g(f.find(".aciSb_resize:last"),l,m);g(f.find(".aciSb_cnt:first"),l,m)};var c=function(){if(f.data("customUi"+a.aciScrollBar.nameSpace)){var n=f.find(".aciSb_cnt:first");var l=n.get(0).scrollHeight;var o=n.get(0).scrollWidth;var q=n.scrollTop();var p=n.scrollLeft();f.data("customUi"+a.aciScrollBar.nameSpace,false);var m=f.data("index"+a.aciScrollBar.nameSpace);a("html").unbind(a.aciScrollBar.nameSpace+"-"+m);f.unbind(a.aciScrollBar.nameSpace);f.find(".aciSb_bar_v:last").remove();f.find(".aciSb_bar_h:last").remove();f.find(".aciSb_resize:last").remove();n.children().unwrap();f.removeClass("aciScrollBar "+j.skin).css("overflow",f.data("overflow"+a.aciScrollBar.nameSpace));f.get(0).scrollTop=Math.round(f.get(0).scrollHeight*q/l);f.get(0).scrollLeft=Math.round(f.get(0).scrollWidth*p/o)}};var e=function(){if(f.data("customUi"+a.aciScrollBar.nameSpace)){return}if((f.css("overflow")!="auto")&&(f.css("overflow")!="scroll")){return}f.data("customUi"+a.aciScrollBar.nameSpace,true);var av=f.data("index"+a.aciScrollBar.nameSpace);if(!av){a.aciScrollBar.index++;f.data("index"+a.aciScrollBar.nameSpace,a.aciScrollBar.index);av=a.aciScrollBar.index}f.trigger("init");f.data("overflow"+a.aciScrollBar.nameSpace,f.css("overflow"));var ax=(f.css("overflow")=="auto")&&!j.resizable;var ay={height:f.get(0).scrollHeight,width:f.get(0).scrollWidth,top:f.scrollTop(),left:f.scrollLeft()};f.get(0).scrollLeft=0;f.get(0).scrollTop=0;f.css("overflow","hidden").addClass("aciScrollBar "+j.skin);f.wrapInner('<div class="aciSb_cnt '+j.skin+'" unselectable="on"></div>');var aD=f.find(".aciSb_cnt:first");aD.get(0).scrollLeft=0;aD.get(0).scrollTop=0;var ae=function(aI,aK,aJ){var aL=a(document.createElement(aI));aL.addClass(aK+" "+j.skin).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none"});aJ.append(aL);return aL};var A=ae("div","aciSb_bar_v",f);var ag=ae("div","aciSb_arrow_t",A);var J=ae("div","aciSb_space_t",A);var H=ae("div","aciSb_track_v",A);var I=ae("div","aciSb_track_t",H);var p=ae("div","aciSb_drag_vc",H);var ab=ae("div","aciSb_drag_t",p);var X=ae("div","aciSb_drag_v",p);var n=ae("div","aciSb_drag_vg",X);var al=ae("div","aciSb_drag_b",p);var Y=ae("div","aciSb_track_b",H);var Z=ae("div","aciSb_space_b",A);var ao=ae("div","aciSb_arrow_b",A);var F=ae("div","aciSb_bar_h",f);var ak=ae("div","aciSb_arrow_l",F);var R=ae("div","aciSb_space_l",F);var U=ae("div","aciSb_track_h",F);var P=ae("div","aciSb_track_l",U);var K=ae("div","aciSb_drag_hc",U);var ah=ae("div","aciSb_drag_l",K);var aj=ae("div","aciSb_drag_h",K);var G=ae("div","aciSb_drag_hg",aj);var ac=ae("div","aciSb_drag_r",K);var L=ae("div","aciSb_track_r",U);var M=ae("div","aciSb_space_r",F);var ai=ae("div","aciSb_arrow_r",F);var w=ae("div","aciSb_resize",f);var af={};var aq=function(){A.css("position","absolute").find("*").css({position:"absolute",width:A.width()+"px"});F.css("position","absolute").find("*").css({position:"absolute",height:F.height()+"px"});w.css({position:"absolute",width:A.width()+"px",height:F.height()+"px"});var aJ=f.data("options"+a.aciScrollBar.nameSpace);var aI=d("aciSb_grip",aJ.skin);af.skin={grip_v_h:aI.height,grip_h_w:aI.width,min_v_h:0,min_h_w:0,bar_v_w:A.width(),arrow_t_h:ag.height(),space_t_h:J.height(),drag_t_h:ab.height(),drag_vg_h:n.height(),drag_b_h:al.height(),space_b_h:Z.height(),arrow_b_h:ao.height(),bar_h_h:F.height(),arrow_l_w:ak.width(),space_l_w:R.width(),drag_l_w:ah.width(),drag_hg_w:G.width(),drag_r_w:ac.width(),space_r_w:M.width(),arrow_r_w:ai.width(),resize_w:w.width(),resize_h:w.height()};af.skin.min_v_h=af.skin.drag_t_h+af.skin.drag_vg_h+af.skin.drag_b_h;af.skin.min_h_w=af.skin.drag_l_w+af.skin.drag_hg_w+af.skin.drag_r_w};aq();var aa=function(aI){if(aI==0){af.live={pstTop:f.css("padding-top"),pstLeft:f.css("padding-left"),paddTop:null,paddLeft:null,bar_v_w:A.is(":visible")?af.skin.bar_v_w:0,bar_h_h:F.is(":visible")?af.skin.bar_h_h:0};af.live.paddTop=parseInt(af.live.pstTop);af.live.paddLeft=parseInt(af.live.pstLeft)}if(aI==1){af.live={width:f.width(),height:f.height(),pstTop:af.live.pstTop,pstLeft:af.live.pstLeft,paddTop:af.live.paddTop,paddLeft:af.live.paddLeft,showWidth:aD.width(),showHeight:aD.height(),scrollWidth:aD.get(0).scrollWidth,scrollHeight:aD.get(0).scrollHeight,bar_v_h:A.height(),bar_v_w:af.live.bar_v_w,bar_h_h:af.live.bar_h_h,bar_h_w:F.width(),track_v_h:null,track_h_w:null,drag_vc_h:null,drag_hc_w:null,ratio_v:null,ratio_h:null}}if(aI==2){af.live.track_v_h=H.height();af.live.track_h_w=U.width();if(af.skin.grip_v_h){af.live.drag_vc_h=af.skin.drag_t_h+af.skin.grip_v_h+af.skin.drag_b_h}else{var aJ=af.live.track_v_h/Math.max(af.live.scrollHeight,1);af.live.drag_vc_h=(aJ<1)?Math.max(af.live.track_v_h*aJ,af.skin.min_v_h):af.live.track_v_h}af.live.ratio_v=(af.live.track_v_h-af.live.drag_vc_h)/Math.max(af.live.scrollHeight-af.live.showHeight,1);if(af.skin.grip_h_w){af.live.drag_hc_w=af.skin.drag_l_w+af.skin.grip_h_w+af.skin.drag_r_w}else{var aJ=af.live.track_h_w/Math.max(af.live.scrollWidth,1);af.live.drag_hc_w=(aJ<1)?Math.max(af.live.track_h_w*aJ,af.skin.min_h_w):af.live.track_h_w}af.live.ratio_h=(af.live.track_h_w-af.live.drag_hc_w)/Math.max(af.live.scrollWidth-af.live.showWidth,1)}};var aG=function(){if(!j.resizable&&(j.horizontalBar=="none")){F.hide()}else{if(aD.get(0).scrollWidth<=f.width()-(A.is(":visible")?A.width():0)){if(!j.resizable&&ax){F.hide()}else{F.show()}}else{F.show()}}if(!j.resizable&&(j.verticalBar=="none")){A.hide()}else{if(aD.get(0).scrollHeight<=f.height()-(F.is(":visible")?F.height():0)){if(!j.resizable&&ax){A.hide()}else{A.show()}}else{A.show()}}};var aF=1;var u=1;switch(j.position.replace(/[^a-z]/g,"")){case"topleft":case"lefttop":aF=-1;u=-1;break;case"topright":case"righttop":aF=1;u=-1;break;case"bottomleft":case"leftbottom":aF=-1;u=1;break}var q=j.verticalBar.replace(/[^a-z]/g,"");var S=j.horizontalBar.replace(/[^a-z]/g,"");var N=function(){var aK=f.width();var aI=f.height();aD.css({width:aK+"px",height:aI+"px"});aG();aD.css({width:f.width()-(A.is(":visible")?af.skin.bar_v_w:0)+"px",height:f.height()-(F.is(":visible")?af.skin.bar_h_h:0)+"px"});aG();var aJ=f.width()-(A.is(":visible")?af.skin.bar_v_w:0);var aL=f.height()-(F.is(":visible")?af.skin.bar_h_h:0);aD.css({width:aJ+"px",height:aL+"px"});aa(0);A.css({height:aL+"px",left:((aF==1)?aJ:0)+af.live.paddLeft+"px",top:((u==1)?0:af.live.bar_h_h)+af.live.paddTop+"px"});F.css({width:aJ+"px",top:((u==1)?aL:0)+af.live.paddTop+"px",left:((aF==1)?0:af.live.bar_v_w)+af.live.paddLeft+"px"});aa(1);switch(q){case"bar":ag.hide();J.css("top","0px");H.css({height:aL-af.skin.space_t_h-af.skin.space_b_h+"px",top:af.skin.space_t_h+"px"});Z.css("top",af.live.bar_v_h-af.skin.space_b_h+"px");ao.hide();break;case"updownbar":ag.css("top","0px");ao.css("top",af.skin.arrow_t_h+"px");J.css("top",af.skin.arrow_t_h+af.skin.arrow_b_h+"px");H.css({height:aL-af.skin.arrow_t_h-af.skin.space_t_h-af.skin.space_b_h-af.skin.arrow_b_h+"px",top:af.skin.arrow_t_h+af.skin.arrow_b_h+af.skin.space_t_h+"px"});Z.css("top",af.live.bar_v_h-af.skin.space_b_h+"px");break;case"barupdown":J.css("top","0px");H.css({height:aL-af.skin.arrow_t_h-af.skin.space_t_h-af.skin.space_b_h-af.skin.arrow_b_h+"px",top:af.skin.space_t_h+"px"});Z.css("top",af.live.bar_v_h-af.skin.arrow_t_h-af.skin.arrow_b_h-af.skin.space_b_h+"px");ag.css("top",af.live.bar_v_h-af.skin.arrow_t_h-af.skin.arrow_b_h+"px");ao.css("top",af.live.bar_v_h-af.skin.arrow_b_h+"px");break;default:ag.css("top","0px");J.css("top",af.skin.arrow_t_h+"px");H.css({height:aL-af.skin.arrow_t_h-af.skin.space_t_h-af.skin.space_b_h-af.skin.arrow_b_h+"px",top:af.skin.arrow_t_h+af.skin.space_t_h+"px"});Z.css("top",af.live.bar_v_h-af.skin.arrow_b_h-af.skin.space_b_h+"px");ao.css("top",af.live.bar_v_h-af.skin.arrow_b_h+"px")}switch(S){case"bar":ak.hide();R.css("left","0px");U.css({width:aJ-af.skin.space_l_w-af.skin.space_r_w+"px",left:af.skin.space_l_w+"px"});M.css("left",af.live.bar_h_w-af.skin.space_r_w+"px");ai.hide();break;case"leftrightbar":ak.css("left","0px");ai.css("left",af.skin.arrow_l_w+"px");R.css("left",af.skin.arrow_l_w+af.skin.arrow_r_w+"px");U.css({width:aJ-af.skin.arrow_l_w-af.skin.space_l_w-af.skin.space_r_w-af.skin.arrow_r_w+"px",left:af.skin.arrow_l_w+af.skin.arrow_r_w+af.skin.space_l_w+"px"});M.css("left",af.live.bar_h_w-af.skin.space_r_w+"px");break;case"barleftright":R.css("left","0px");U.css({width:aJ-af.skin.arrow_l_w-af.skin.space_l_w-af.skin.space_r_w-af.skin.arrow_r_w+"px",left:af.skin.space_l_w+"px"});M.css("left",af.live.bar_h_w-af.skin.arrow_l_w-af.skin.arrow_r_w-af.skin.space_r_w+"px");ak.css("left",af.live.bar_h_w-af.skin.arrow_l_w-af.skin.arrow_r_w+"px");ai.css("left",af.live.bar_h_w-af.skin.arrow_r_w+"px");break;default:ak.css("left","0px");R.css("left",af.skin.arrow_l_w+"px");U.css({width:aJ-af.skin.arrow_l_w-af.skin.space_l_w-af.skin.space_r_w-af.skin.arrow_r_w+"px",left:af.skin.arrow_l_w+af.skin.space_l_w+"px"});M.css("left",af.live.bar_h_w-af.skin.arrow_r_w-af.skin.space_r_w+"px");ai.css("left",af.live.bar_h_w-af.skin.arrow_r_w+"px")}w.css({left:((aF==1)?aJ:0)+af.live.paddLeft+"px",top:((u==1)?aL:0)+af.live.paddTop+"px"});if(A.is(":visible")&&F.is(":visible")){if(j.resizable){w.addClass("aciSb_on"+((u==1)?"b":"t")+((aF==1)?"r":"l"))}else{w.addClass("aciSb_gray")}w.show()}else{w.hide()}aD.css({"margin-left":((aF==1)?0:af.live.bar_v_w)+"px","margin-top":((u==1)?0:af.live.bar_h_h)+"px"});aa(2)};N();var am=function(){if(af.live.scrollHeight<=af.live.height-af.live.bar_h_h){A.addClass("aciSb_gray");I.hide();p.hide();Y.hide();return}A.removeClass("aciSb_gray");var aJ=aD.scrollTop()*af.live.ratio_v;var aI=af.live.drag_vc_h;if(aJ+aI>af.live.track_v_h){aJ=af.live.track_v_h-aI}if(aJ>0){I.css("height",aJ+"px").show()}else{I.hide()}if(aI>0){p.css({height:aI+"px",top:aJ+"px"}).show();if(aI>af.skin.drag_t_h+af.skin.drag_b_h){X.css({height:aI-(af.skin.drag_t_h+af.skin.drag_b_h)+"px",top:af.skin.drag_t_h+"px"}).show();if((af.skin.drag_vg_h<=aI)||af.skin.grip_v_h){n.css("top",Math.round(aI/2-af.skin.drag_vg_h/2)-af.skin.drag_t_h+"px").show()}else{n.hide()}}else{X.hide()}al.css("top",aI-af.skin.drag_b_h+"px")}else{p.hide()}if(aJ+aI<af.live.track_v_h){Y.css({height:af.live.track_v_h-(aJ+aI),top:aJ+aI+"px"}).show()}else{Y.hide()}};var aA=function(){if(af.live.scrollWidth<=af.live.width-af.live.bar_v_w){F.addClass("aciSb_gray");P.hide();K.hide();L.hide();return}F.removeClass("aciSb_gray");var aJ=aD.scrollLeft()*af.live.ratio_h;var aI=af.live.drag_hc_w;if(aJ+aI>af.live.track_h_w){aJ=af.live.track_h_w-aI}if(aJ>0){P.css("width",aJ+"px").show()}else{P.hide()}if(aI>0){K.css({width:aI+"px",left:aJ+"px"}).show();if(aI>af.skin.drag_l_w+af.skin.drag_r_w){aj.css({width:aI-(af.skin.drag_l_w+af.skin.drag_r_w)+"px",left:af.skin.drag_l_w+"px"}).show();if((af.skin.drag_hg_w<=aI)||af.skin.grip_h_w){G.css("left",Math.round(aI/2-af.skin.drag_hg_w/2)-af.skin.drag_l_w+"px").show()}else{G.hide()}}else{aj.hide()}ac.css("left",aI-af.skin.drag_r_w+"px")}else{K.hide()}if(aJ+aI<af.live.track_h_w){L.css({width:af.live.track_h_w-(aJ+aI),left:aJ+aI+"px"}).show()}else{L.hide()}};am();aA();var az=function(aK){if(af.live.scrollHeight>af.live.height-af.live.bar_h_h){var aJ,aI;if(typeof aK=="object"){aJ=Math.max(a(aD).scrollTop()+-aK.delta*j.delta,0);aI=aK.timed}else{aJ=aK;aI=j.lineTimer}if(j.smoothScroll&&!B){a(aD).stop(false,true).animate({scrollTop:aJ},{duration:aI,easing:"linear",complete:function(){f.trigger("scroll");am()},step:function(){am()},queue:true})}else{aD.get(0).scrollTop=aJ}}else{aD.get(0).scrollTop=0}f.trigger("scroll");am()};var aB=function(aK){if(af.live.scrollWidth>af.live.width-af.live.bar_v_w){var aJ,aI;if(typeof aK=="object"){aJ=Math.max(a(aD).scrollLeft()+-aK.delta*j.delta,0);aI=aK.timed}else{aJ=aK;aI=j.lineTimer}if(j.smoothScroll&&!B){a(aD).stop(false,true).animate({scrollLeft:aJ},{duration:aI,easing:"linear",complete:function(){f.trigger("scroll");aA()},step:function(){aA()},queue:true})}else{aD.get(0).scrollLeft=aJ}}else{aD.get(0).scrollLeft=0}f.trigger("scroll");aA()};if(j.bindMouse){f.bind("mousewheel"+a.aciScrollBar.nameSpace,function(aI,aJ){if(typeof aJ=="object"){az(aJ)}else{az({delta:aJ*2,timed:j.lineTimer})}return false})}var Q=function(aL,aI,aK,aM){if(!aL.touches){return}switch(aI){case"start":B=true;W();break;case"move":var aJ=new Date().getTime();if(!s||(s<aJ-250)){s=aJ;B=true;switch(aK){case"up":az(a(aD).scrollTop()+aM);break;case"down":az(a(aD).scrollTop()-aM);break;case"left":aB(a(aD).scrollLeft()+aM);break;case"right":aB(a(aD).scrollLeft()-aM);break}}break;case"end":case"cancel":B=false;s=false;break}};if(j.bindTouch&&(typeof a.fn.swipe!="undefined")){f.swipe({swipeStatus:Q,threshold:5,fingers:1,allowPageScroll:"none"})}A.bind("mousewheel"+a.aciScrollBar.nameSpace,function(aI,aJ){if(typeof aJ=="object"){az(aJ)}else{az({delta:aJ*2,timed:j.lineTimer})}return false}).bind("selectstart"+a.aciScrollBar.nameSpace,function(){return false}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){f.focus();return false}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E();C()}).bind("click"+a.aciScrollBar.nameSpace,function(){return false});F.bind("mousewheel"+a.aciScrollBar.nameSpace,function(aI,aJ){if(typeof aJ=="object"){aB(aJ)}else{aB({delta:aJ*2,timed:j.lineTimer})}return false}).bind("selectstart"+a.aciScrollBar.nameSpace,function(){return false}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){f.focus();return false}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E();C()}).bind("click"+a.aciScrollBar.nameSpace,function(){return false});var o={curr:{x:null,y:null},start:{x:null,y:null},ref:{x:null,y:null}};var z=function(){o.start.x=o.curr.x;o.start.y=o.curr.y;o.ref.x=af.live.width;o.ref.y=af.live.height};var aE=function(){if(w.get(0)==v){var aJ=Math.max(o.ref.x+o.curr.x-o.start.x,0);var aI=Math.max(o.ref.y+o.curr.y-o.start.y,0);f.trigger("resize",{width:aJ,height:aI})}};w.bind("selectstart"+a.aciScrollBar.nameSpace,function(){return false}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){f.focus();v=this;W();z();return false}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E();return false}).bind("click"+a.aciScrollBar.nameSpace,function(){E();return false});var v=null;var E=function(){a(v).removeClass("aciSb_sel");v=null;W()};var y=null;var W=function(){if(y){window.clearInterval(y);y=null}};var O=function(aJ,aK,aI){W();y=window.setInterval(function(){aJ.trigger("mousewheel",{delta:aK,timed:aI})},aI)};var aH=function(aK,aL,aI,aJ){W();y=window.setInterval(function(){O(aK,aL,aI)},aJ)};var T=function(aK,aJ){if(aJ){a(aK).addClass("aciSb_over");if(v==aK){a(aK).addClass("aciSb_sel")}var aI=a(aK).parent();if(aI.hasClass("aciSb_bar_v")||aI.hasClass("aciSb_bar_h")){aI.addClass("aciSb_eover")}else{aI=aI.parent();aI.addClass("aciSb_eover")}}else{a(aK).removeClass("aciSb_over").removeClass("aciSb_sel");var aI=a(aK).parent();if(aI.hasClass("aciSb_bar_v")||aI.hasClass("aciSb_bar_h")){aI.removeClass("aciSb_eover")}else{aI=aI.parent();aI.removeClass("aciSb_eover")}}};var ap=function(aI,aJ){aI.bind("mouseover"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mousemove"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mouseout"+a.aciScrollBar.nameSpace,function(){W();T(this,false)}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){v=this;a(this).trigger("mousewheel",{delta:aJ,timer:j.lineTimer});aH(a(this),aJ,j.lineTimer,j.lineDelay);a(this).addClass("aciSb_sel")}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E()}).bind("click"+a.aciScrollBar.nameSpace,function(){E();return false})};ap(ag,1);ap(ao,-1);ap(ak,1);ap(ai,-1);var an=function(aI,aJ){aI.bind("mouseover"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mousemove"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mouseout"+a.aciScrollBar.nameSpace,function(){W();T(this,false)}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){v=this;a(this).trigger("mousewheel",{delta:aJ*(af.live.height/(j.delta*2)),timer:j.lineTimer});aH(a(this).parent().parent(),aJ*(af.live.height/j.delta),j.pageTimer,j.pageDelay);a(this).addClass("aciSb_sel")}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E()}).bind("click"+a.aciScrollBar.nameSpace,function(){E();return false})};an(I,1);an(Y,-1);an(P,1);an(L,-1);var aw=function(aI){aI.bind("mouseover"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mousemove"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mouseout"+a.aciScrollBar.nameSpace,function(){W();T(this,false)}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E()}).bind("click"+a.aciScrollBar.nameSpace,function(){E();return false})};aw(J);aw(Z);aw(R);aw(M);var ar=function(){o.start.x=o.curr.x;o.start.y=o.curr.y;o.ref.x=a(aD).scrollLeft();o.ref.y=a(aD).scrollTop()};var r=function(){if(p.get(0)==v){A.addClass("aciSb_eover");p.addClass("aciSb_sel");var aJ=o.ref.y;var aM=o.curr.y-o.start.y;var aI=af.live.ratio_v;var aL=o.ref.y+aM/aI;az(aL)}if(K.get(0)==v){F.addClass("aciSb_eover");K.addClass("aciSb_sel");var aJ=o.ref.x;var aM=o.curr.x-o.start.x;var aI=af.live.ratio_h;var aK=o.ref.x+aM/aI;aB(aK)}};var C=function(){A.removeClass("aciSb_eover");p.removeClass("aciSb_sel");F.removeClass("aciSb_eover");K.removeClass("aciSb_sel")};var m=function(aI){aI.bind("mouseover"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mousemove"+a.aciScrollBar.nameSpace,function(){T(this,true)}).bind("mouseout"+a.aciScrollBar.nameSpace,function(){W();T(this,false)}).bind("mousedown"+a.aciScrollBar.nameSpace,function(){v=this;W();ar();a(this).addClass("aciSb_sel")}).bind("mouseup"+a.aciScrollBar.nameSpace,function(){E()}).bind("click"+a.aciScrollBar.nameSpace,function(){E();return false})};m(p);m(K);var B=false;var s=false;var x=function(aK,aI){if(!aK.touches){return}switch(aI){case"start":B=true;W();o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;ar();break;case"move":var aJ=new Date().getTime();if(!s||(s<aJ-250)){s=aJ;B=true;v=p.get(0);o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;r()}break;case"end":case"cancel":E();C();B=false;s=false;break}};var l=function(aK,aI){if(!aK.touches){return}switch(aI){case"start":B=true;W();o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;ar();break;case"move":var aJ=new Date().getTime();if(!s||(s<aJ-250)){s=aJ;B=true;v=K.get(0);o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;r()}break;case"end":case"cancel":E();C();B=false;s=false;break}};var ad=function(aK,aI){if(!aK.touches){return}switch(aI){case"start":B=true;W();o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;z();break;case"move":var aJ=new Date().getTime();if(!s||(s<aJ-250)){s=aJ;B=true;v=w.get(0);o.curr.x=aK.touches[0].pageX;o.curr.y=aK.touches[0].pageY;aE()}break;case"end":case"cancel":E();B=false;s=false;break}};if(typeof a.fn.swipe!="undefined"){H.swipe({swipeStatus:x,threshold:5,fingers:1,allowPageScroll:"none"});U.swipe({swipeStatus:l,threshold:5,fingers:1,allowPageScroll:"none"});w.swipe({swipeStatus:ad,threshold:5,fingers:1,allowPageScroll:"none"})}var aC=false;if(j.bindKeyboard){f.bind("keydown"+a.aciScrollBar.nameSpace,function(aI){if(!aC){return}switch(aI.which){case 38:ag.trigger("mousedown").trigger("mouseup");return false;case 40:ao.trigger("mousedown").trigger("mouseup");return false;case 37:ak.trigger("mousedown").trigger("mouseup");return false;case 39:ai.trigger("mousedown").trigger("mouseup");return false;case 33:I.trigger("mousedown").trigger("mouseup");return false;case 34:Y.trigger("mousedown").trigger("mouseup");return false;case 36:az(0);aB(0);return false;case 35:az(af.live.scrollHeight);aB(0);return false}})}a("html").bind("mouseup"+a.aciScrollBar.nameSpace+"-"+av,function(){E();C()}).bind("mousemove"+a.aciScrollBar.nameSpace+"-"+av,function(aI){o.curr.x=aI.pageX;o.curr.y=aI.pageY;if(v){r();aE()}}).bind("mouseout"+a.aciScrollBar.nameSpace+"-"+av,function(aI){if(!aI.relatedTarget){E();C()}});var t=function(aK){var aL=aK.position();var aJ=a(aD).scrollTop()+aL.top;var aI=a(aD).scrollLeft()+aL.left;return{top:aJ,left:aI}};var at=function(aJ,aL){if(typeof aJ=="string"){var aI=null;var aK=new RegExp("^([0-9]+)%$");if(aI=aK.exec(aJ)){aJ=Math.round(aL*parseFloat(aI[1])/100)}else{aK=new RegExp("^([0-9]+)$");if(aI=aK.exec(aJ)){aJ=Math.abs(parseInt(aI[1]))}}}return aJ};var V=null;var D=false;f.bind("focus"+a.aciScrollBar.nameSpace,function(){aC=true}).bind("blur"+a.aciScrollBar.nameSpace,function(){aC=false}).bind("lineup"+a.aciScrollBar.nameSpace,function(){ag.trigger("mousedown").trigger("mouseup");return false}).bind("pageup"+a.aciScrollBar.nameSpace,function(){I.trigger("mousedown").trigger("mouseup");return false}).bind("linedown"+a.aciScrollBar.nameSpace,function(){ao.trigger("mousedown").trigger("mouseup");return false}).bind("pagedown"+a.aciScrollBar.nameSpace,function(){Y.trigger("mousedown").trigger("mouseup");return false}).bind("lineleft"+a.aciScrollBar.nameSpace,function(){ak.trigger("mousedown").trigger("mouseup");return false}).bind("pageleft"+a.aciScrollBar.nameSpace,function(){P.trigger("mousedown").trigger("mouseup");return false}).bind("lineright"+a.aciScrollBar.nameSpace,function(){ai.trigger("mousedown").trigger("mouseup");return false}).bind("pageright"+a.aciScrollBar.nameSpace,function(){L.trigger("mousedown").trigger("mouseup");return false}).bind("scroll"+a.aciScrollBar.nameSpace,function(aO,aN){if(typeof aN!="object"){return false}if(typeof aN.element!="undefined"){var aM=a(aN.element);if(aM.get(0)&&f.has(aM.get(0))){var aP=t(aM);var aI=((typeof aN.center!="boolean")?true:aN.center);if(aI){if(aM.width()<af.live.width-af.live.bar_v_w){aP.left-=Math.round(af.live.width/2-aM.width()/2)}if(aM.height()<af.live.height-af.live.bar_h_h){aP.top-=Math.round(af.live.height/2-aM.height()/2)}}var aJ=(aN.offsety?parseInt(aN.offsety):0);if(Math.abs(a(aD).scrollTop()-Math.abs(aP.top))>=aJ){if(aN.animate){a(aD).animate({scrollTop:aP.top},{duration:at(aN.duration),easing:aN.animate,complete:function(){f.trigger("scroll");am()},step:function(){am()}})}else{az(aP.top)}}var aK=(aN.offsetx?parseInt(aN.offsetx):0);if(Math.abs(a(aD).scrollLeft()-Math.abs(aP.left))>=aK){if(aN.animate){a(aD).animate({scrollLeft:aP.left},{duration:at(aN.duration),easing:aN.animate,complete:function(){f.trigger("scroll");aA()},step:function(){aA()}})}else{aB(aP.left)}}}return false}if(typeof aN.top!="undefined"){var aQ=at(aN.top,af.live.scrollHeight-af.live.height+af.live.bar_h_h);if(aN.animate){a(aD).animate({scrollTop:aQ},{duration:at(aN.duration),easing:aN.animate,complete:function(){f.trigger("scroll");am()},step:function(){am()}})}else{az(aQ)}}if(typeof aN.left!="undefined"){var aL=at(aN.left,af.live.scrollWidth-af.live.width+af.live.bar_v_w);if(aN.animate){a(aD).animate({scrollLeft:aL},{duration:at(aN.duration),easing:aN.animate,complete:function(){f.trigger("scroll");aA()},step:function(){aA()}})}else{aB(aL)}}return false}).bind("update"+a.aciScrollBar.nameSpace,function(aN,aK){if(D){return false}if(B){au(500);return false}D=true;var aO=(f.width()!=af.live.width)||(f.height()!=af.live.height);var aJ=af.live.scrollWidth;var aI=af.live.scrollHeight;if(aO||(aD.get(0).scrollWidth!=aJ)||(aD.get(0).scrollHeight!=aI)||(f.css("padding-left")!=af.live.pstLeft)||(f.css("padding-top")!=af.live.pstTop)||aK){if(aK){aq()}var aM=aD.scrollTop();var aL=aD.scrollLeft();N();if(aO&&((af.live.scrollHeight!=aI)||(af.live.scrollWidth!=aJ))){aD.get(0).scrollTop=Math.round(af.live.scrollHeight*aM/aI);aD.get(0).scrollLeft=Math.round(af.live.scrollWidth*aL/aJ);f.trigger("scroll")}au(10)}else{au(200)}am();aA();D=false;return false});var au=function(aI){if(V){window.clearTimeout(V)}V=window.setTimeout(function(){if(f.data("customUi"+a.aciScrollBar.nameSpace)){if(D){return}f.trigger("update");return}},aI)};au(200);f.trigger("scroll",{top:Math.round(af.live.scrollHeight*ay.top/ay.height),left:Math.round(af.live.scrollWidth*ay.left/ay.width),animate:true,duration:0});f.trigger("ready")};return h()};a(window).bind("unload"+a.aciScrollBar.nameSpace,function(){a("*").unbind(a.aciScrollBar.nameSpace);for(var b=1;b<=a.aciScrollBar.index;b++){a("*").unbind(a.aciScrollBar.nameSpace+"-"+b)}})})(jQuery);
